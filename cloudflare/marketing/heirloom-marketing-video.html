<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heirloom â€” Your Memories, Forever</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--void-deep:#050608;--void:#0a0c10;--void-light:#12151c;--paper:#f5f3ee;--gold:#c9a959;--gold-bright:#e8d5a3;--gold-dim:#8b7355;--blood:#8b2942;--sanctuary-blue:#1a2a3a;--sanctuary-teal:#1a3a3a}
    html,body{width:100%;height:100%;overflow:hidden;background:var(--void-deep);font-family:'Cormorant Garamond',Georgia,serif}
    
    /* Icon System */
    .h-icon{display:inline-flex;align-items:center;justify-content:center;flex-shrink:0}
    .h-icon svg{width:100%;height:100%}
    
    #video-container{position:fixed;inset:0;background:var(--void-deep);overflow:hidden}
    
    /* Play Overlay */
    #play-overlay{position:fixed;inset:0;background:var(--void-deep);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;cursor:pointer;transition:opacity 1s ease,visibility 1s ease}
    #play-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
    .pre-logo{width:120px;height:60px;color:var(--gold);margin-bottom:2rem;animation:gentle-pulse 3s ease-in-out infinite;filter:drop-shadow(0 0 40px rgba(201,169,89,0.5))}
    .pre-logo svg{width:100%;height:100%}
    #play-overlay h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,5vw,3.5rem);color:var(--paper);margin-bottom:0.5rem;letter-spacing:0.4em;text-transform:uppercase;font-weight:400}
    #play-overlay p{color:var(--paper);opacity:0.5;font-size:1.1rem;margin-bottom:4rem;font-style:italic}
    .play-button{width:140px;height:140px;border-radius:50%;background:transparent;border:2px solid var(--gold);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.4s ease;position:relative}
    .play-button::before{content:'';position:absolute;inset:-10px;border-radius:50%;border:1px solid rgba(201,169,89,0.3);animation:ripple 2s ease-out infinite}
    .play-button::after{content:'';position:absolute;inset:-20px;border-radius:50%;border:1px solid rgba(201,169,89,0.15);animation:ripple 2s ease-out infinite 0.5s}
    @keyframes ripple{0%{transform:scale(1);opacity:1}100%{transform:scale(1.5);opacity:0}}
    .play-button:hover{background:var(--gold);transform:scale(1.05);box-shadow:0 0 60px rgba(201,169,89,0.4)}
    .play-button:hover .play-icon{color:var(--void-deep)}
    .play-icon{width:40px;height:40px;color:var(--gold);margin-left:6px;transition:color 0.3s ease}
    .play-icon svg{width:100%;height:100%;fill:currentColor}
    .play-hint{margin-top:2rem;color:var(--paper);opacity:0.3;font-size:0.9rem;letter-spacing:0.2em;text-transform:uppercase}
    @keyframes gentle-pulse{0%,100%{opacity:0.8;transform:scale(1)}50%{opacity:1;transform:scale(1.02)}}
    
    /* Cinema Bars */
    .cinema-bar{position:fixed;left:0;right:0;height:5%;background:#000;z-index:100;transform:scaleY(0);transition:transform 0.8s ease}
    .cinema-bar.top{top:0;transform-origin:top}
    .cinema-bar.bottom{bottom:0;transform-origin:bottom}
    .cinema-bar.active{transform:scaleY(1)}
    
    /* Scenes - Improved spacing */
    .scene{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;visibility:hidden;padding:8% 3rem;gap:1.5rem;transition:opacity 1s ease,visibility 1s ease}
    .scene.active{opacity:1;visibility:visible}
    
    /* Background */
    .sanctuary-bg{position:absolute;inset:0;z-index:-2;opacity:0;transition:opacity 2s ease}
    .sanctuary-bg.active{opacity:1}
    .bg-gradient{position:absolute;inset:0;background:linear-gradient(180deg,var(--void-deep) 0%,var(--sanctuary-blue) 40%,var(--sanctuary-teal) 70%,var(--void-deep) 100%)}
    .bg-vignette{position:absolute;inset:0;background:radial-gradient(ellipse at center,transparent 0%,var(--void-deep) 100%)}
    
    /* Particles */
    .constellation-particles{position:absolute;inset:0;z-index:-1;overflow:hidden}
    .particle{position:absolute;background:var(--gold);border-radius:50%;opacity:0}
    .particle.twinkle{animation:twinkle-star var(--duration) ease-in-out infinite;animation-delay:var(--delay)}
    @keyframes twinkle-star{0%,100%{opacity:0;transform:scale(0.5)}50%{opacity:var(--max-opacity);transform:scale(1)}}
    
    /* Typography */
    .headline{font-family:'Playfair Display',serif;font-size:clamp(2rem,6vw,4.5rem);color:var(--paper);text-align:center;line-height:1.15;font-weight:400}
    .headline em{color:var(--gold);font-style:italic}
    .headline.medium{font-size:clamp(1.8rem,5vw,3.5rem)}
    .headline.small{font-size:clamp(1.5rem,4vw,2.8rem)}
    .subheadline{font-family:'Cormorant Garamond',serif;font-size:clamp(1rem,2.5vw,1.5rem);color:var(--paper);opacity:0.6;text-align:center;font-weight:300;letter-spacing:0.08em}
    .quote-text{font-family:'Cormorant Garamond',serif;font-size:clamp(1.3rem,3.5vw,2.4rem);color:var(--paper);text-align:center;max-width:850px;line-height:1.7;font-weight:300;font-style:italic}
    .quote-text .highlight{color:var(--gold);font-style:italic}
    
    /* Image Frame - Compact */
    .image-frame{width:280px;height:340px;background:linear-gradient(145deg,#2a2520 0%,#1a1510 100%);border-radius:8px;padding:12px;box-shadow:0 25px 50px rgba(0,0,0,0.5),inset 0 1px 0 rgba(255,255,255,0.1);opacity:0;transform:scale(0.9) translateY(20px);animation:frame-appear 1.5s ease forwards 0.3s;overflow:hidden;flex-shrink:0}
    @keyframes frame-appear{to{opacity:1;transform:scale(1) translateY(0)}}
    .image-frame img{width:100%;height:100%;object-fit:cover;border-radius:4px;filter:sepia(15%) contrast(1.05)}
    .image-frame.round{border-radius:50%;width:220px;height:220px}
    .image-frame.round img{border-radius:50%}
    
    /* Photo Stack - Compact */
    .photo-stack{position:relative;width:320px;height:380px;perspective:1000px;flex-shrink:0}
    .photo{position:absolute;width:240px;height:300px;border-radius:6px;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,0.5);background:#1a1510;padding:10px;opacity:0}
    .photo img{width:100%;height:100%;object-fit:cover;border-radius:3px;filter:sepia(10%) contrast(1.1)}
    .photo:nth-child(1){animation:photo-fall-1 1.2s cubic-bezier(0.34,1.56,0.64,1) forwards 0.2s}
    .photo:nth-child(2){animation:photo-fall-2 1.2s cubic-bezier(0.34,1.56,0.64,1) forwards 0.5s}
    .photo:nth-child(3){animation:photo-fall-3 1.2s cubic-bezier(0.34,1.56,0.64,1) forwards 0.8s}
    @keyframes photo-fall-1{0%{opacity:0;transform:translateY(-150px) rotate(-20deg) rotateX(40deg)}100%{opacity:1;transform:translateY(0) rotate(-12deg) translateX(-35px)}}
    @keyframes photo-fall-2{0%{opacity:0;transform:translateY(-150px) rotate(15deg) rotateX(40deg)}100%{opacity:1;transform:translateY(0) rotate(8deg) translateX(35px)}}
    @keyframes photo-fall-3{0%{opacity:0;transform:translateY(-150px) rotate(5deg) rotateX(40deg)}100%{opacity:1;transform:translateY(0) rotate(-3deg) translateZ(25px)}}
    
    /* Waveform - Compact */
    .waveform-container{display:flex;flex-direction:column;align-items:center;gap:1rem;flex-shrink:0}
    .waveform{display:flex;align-items:center;justify-content:center;gap:3px;height:80px;padding:0 1rem}
    .wave-bar{width:3px;background:linear-gradient(180deg,var(--gold-bright) 0%,var(--gold) 50%,var(--blood) 100%);border-radius:3px;height:15px;opacity:0;animation:wave-appear 0.3s ease forwards,wave-dance var(--duration) ease-in-out infinite;animation-delay:var(--delay),calc(var(--delay) + 0.5s)}
    @keyframes wave-appear{to{opacity:1}}
    @keyframes wave-dance{0%,100%{height:15px}50%{height:var(--height)}}
    .recording-indicator{display:flex;align-items:center;gap:0.8rem}
    .recording-dot{width:12px;height:12px;background:var(--blood);border-radius:50%;animation:recording-pulse 1s ease-in-out infinite;box-shadow:0 0 15px rgba(139,41,66,0.6)}
    @keyframes recording-pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(0.9)}}
    .voice-image{width:160px;height:160px;border-radius:50%;overflow:hidden;border:3px solid var(--gold);box-shadow:0 15px 40px rgba(0,0,0,0.4)}
    .voice-image img{width:100%;height:100%;object-fit:cover}
    
    /* Envelope - Compact */
    .envelope-scene{position:relative;width:320px;height:220px;perspective:1000px;flex-shrink:0}
    .envelope-body{position:absolute;width:100%;height:100%;background:linear-gradient(180deg,#f8f5ef 0%,#e8e2d8 100%);border-radius:8px;box-shadow:0 25px 50px rgba(0,0,0,0.4);opacity:0;animation:envelope-slide 1s ease forwards}
    @keyframes envelope-slide{0%{opacity:0;transform:translateY(40px) rotateX(20deg)}100%{opacity:1;transform:translateY(0) rotateX(0deg)}}
    .envelope-flap{position:absolute;top:0;left:0;right:0;height:55%;background:linear-gradient(180deg,#ebe5db 0%,#ddd5c8 100%);clip-path:polygon(0 0,100% 0,100% 25%,50% 100%,0 25%);transform-origin:top center;animation:flap-seal 1.5s ease forwards 0.8s}
    @keyframes flap-seal{0%,30%{transform:rotateX(0deg)}100%{transform:rotateX(180deg)}}
    .wax-seal{position:absolute;top:38%;left:50%;transform:translate(-50%,-50%) scale(0);width:64px;height:64px;background:radial-gradient(circle at 30% 30%,#c04060 0%,#8b2942 50%,#5a1a2a 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px rgba(139,41,66,0.6);animation:seal-stamp 0.5s cubic-bezier(0.34,1.56,0.64,1) forwards 2s;z-index:10}
    @keyframes seal-stamp{0%{transform:translate(-50%,-50%) scale(0) rotate(-45deg)}100%{transform:translate(-50%,-50%) scale(1) rotate(0deg)}}
    .wax-seal .seal-icon{width:32px;height:32px;color:rgba(255,255,255,0.9)}
    .wax-seal .seal-icon svg{width:100%;height:100%}
    
    /* Infinity Symbol */
    .infinity-container{position:relative;width:260px;height:130px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
    .infinity-glow{position:absolute;width:350px;height:175px;background:radial-gradient(ellipse,rgba(201,169,89,0.3) 0%,transparent 70%);filter:blur(35px);animation:glow-pulse 3s ease-in-out infinite}
    @keyframes glow-pulse{0%,100%{opacity:0.5;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}
    .infinity-symbol{width:180px;height:90px;color:var(--gold);opacity:0;animation:infinity-draw 2s ease-out forwards;filter:drop-shadow(0 0 20px rgba(201,169,89,0.8)) drop-shadow(0 0 40px rgba(201,169,89,0.6))}
    .infinity-symbol svg{width:100%;height:100%}
    @keyframes infinity-draw{0%{opacity:0;transform:scale(0.3) rotate(-180deg);filter:blur(20px)}50%{filter:blur(5px)}100%{opacity:1;transform:scale(1) rotate(0deg);filter:blur(0)}}
    
    /* Feature Cards - Compact */
    .features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;max-width:800px;width:100%;padding:0 1rem}
    .feature-card{background:rgba(18,21,28,0.8);backdrop-filter:blur(20px);border:1px solid rgba(201,169,89,0.15);border-radius:14px;padding:1rem;opacity:0;transform:translateY(25px)}
    .feature-card.animate{animation:card-rise 0.8s cubic-bezier(0.34,1.56,0.64,1) forwards}
    @keyframes card-rise{to{opacity:1;transform:translateY(0)}}
    .feature-icon{width:38px;height:38px;background:linear-gradient(135deg,rgba(201,169,89,0.2) 0%,rgba(201,169,89,0.05) 100%);border-radius:10px;display:flex;align-items:center;justify-content:center;margin-bottom:0.6rem;color:var(--gold)}
    .feature-icon svg{width:20px;height:20px}
    .feature-title{font-family:'Playfair Display',serif;font-size:1rem;color:var(--paper);margin-bottom:0.25rem}
    .feature-desc{color:var(--paper);opacity:0.5;font-size:0.8rem;line-height:1.4}
    
    /* AI Chat Demo - Compact */
    .ai-container{display:flex;gap:2rem;align-items:center;max-width:850px}
    .ai-chat{width:260px;background:var(--void-light);border-radius:18px;border:1px solid rgba(201,169,89,0.2);overflow:hidden;box-shadow:0 25px 50px rgba(0,0,0,0.4);flex-shrink:0}
    .ai-header{padding:0.7rem 0.9rem;border-bottom:1px solid rgba(201,169,89,0.1);display:flex;align-items:center;gap:0.5rem}
    .ai-avatar{width:28px;height:28px;background:linear-gradient(135deg,var(--gold),var(--gold-dim));border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--void-deep)}
    .ai-avatar svg{width:16px;height:16px}
    .ai-name{color:var(--paper);font-weight:500;font-size:0.85rem}
    .ai-status{font-size:0.65rem;color:var(--gold);opacity:0.7}
    .ai-messages{padding:0.7rem;height:180px;display:flex;flex-direction:column;gap:0.5rem}
    .ai-message{max-width:85%;padding:0.5rem 0.8rem;border-radius:12px;font-size:0.75rem;line-height:1.4}
    .ai-message.assistant{background:rgba(201,169,89,0.1);color:var(--paper);border-bottom-left-radius:4px;align-self:flex-start}
    .ai-message.user{background:var(--gold);color:var(--void-deep);border-bottom-right-radius:4px;align-self:flex-end}
    .ai-input{padding:0.7rem;border-top:1px solid rgba(201,169,89,0.1);display:flex;gap:0.4rem}
    .ai-input input{flex:1;background:var(--void);border:1px solid rgba(201,169,89,0.2);border-radius:14px;padding:0.45rem 0.7rem;color:var(--paper);font-size:0.7rem}
    .ai-input button{width:28px;height:28px;background:var(--gold);border:none;border-radius:50%;color:var(--void-deep);cursor:pointer;display:flex;align-items:center;justify-content:center}
    .ai-input button svg{width:12px;height:12px}
    .ai-features{flex:1}
    .ai-feature-item{display:flex;align-items:flex-start;gap:0.8rem;margin-bottom:1rem;opacity:0;animation:fade-slide-in 0.6s ease forwards}
    .ai-feature-item:nth-child(1){animation-delay:0.2s}
    .ai-feature-item:nth-child(2){animation-delay:0.4s}
    .ai-feature-item:nth-child(3){animation-delay:0.6s}
    .ai-feature-item:nth-child(4){animation-delay:0.8s}
    @keyframes fade-slide-in{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
    .ai-feature-icon{width:32px;height:32px;background:rgba(201,169,89,0.15);border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:var(--gold)}
    .ai-feature-icon svg{width:18px;height:18px}
    .ai-feature-text h4{color:var(--paper);font-family:'Playfair Display',serif;font-size:0.95rem;margin-bottom:0.15rem}
    .ai-feature-text p{color:var(--paper);opacity:0.5;font-size:0.8rem}
    
    /* Wrapped/Annual Review - Compact */
    .wrapped-container{display:flex;flex-direction:column;align-items:center;gap:1.2rem}
    .wrapped-phone{width:220px;height:400px;background:linear-gradient(180deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%);border-radius:30px;padding:8px;box-shadow:0 30px 60px rgba(0,0,0,0.5);position:relative;overflow:hidden;flex-shrink:0}
    .wrapped-screen{width:100%;height:100%;background:linear-gradient(180deg,var(--void-deep) 0%,var(--sanctuary-blue) 100%);border-radius:24px;overflow:hidden;position:relative}
    .wrapped-content{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.2rem}
    .wrapped-year{font-family:'Playfair Display',serif;font-size:2rem;color:var(--gold);margin-bottom:0.2rem}
    .wrapped-title{font-size:0.7rem;color:var(--paper);opacity:0.6;text-transform:uppercase;letter-spacing:0.25em;margin-bottom:1.2rem}
    .wrapped-stat{text-align:center;margin-bottom:0.8rem}
    .wrapped-stat-number{font-size:2.5rem;font-family:'Playfair Display',serif;color:var(--gold);line-height:1}
    .wrapped-stat-label{font-size:0.7rem;color:var(--paper);opacity:0.7}
    .wrapped-emotions{display:flex;gap:0.35rem;flex-wrap:wrap;justify-content:center}
    .emotion-pill{padding:0.25rem 0.6rem;background:rgba(201,169,89,0.2);border-radius:14px;font-size:0.65rem;color:var(--gold);display:flex;align-items:center;gap:0.25rem}
    .emotion-pill svg{width:10px;height:10px}
    .wrapped-dots{display:flex;gap:4px;margin-top:1rem}
    .wrapped-dot{width:5px;height:5px;border-radius:50%;background:var(--paper);opacity:0.3}
    .wrapped-dot.active{opacity:1;background:var(--gold)}
    
    /* Notification Demo - Compact */
    .notification-demo{display:flex;justify-content:center}
    .notification-card-demo{background:var(--void-light);border:1px solid rgba(201,169,89,0.25);border-radius:18px;padding:1.2rem;max-width:340px;width:100%;box-shadow:0 25px 50px rgba(0,0,0,0.4);animation:notif-float 3s ease-in-out infinite}
    @keyframes notif-float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    .notif-icon{width:44px;height:44px;background:rgba(201,169,89,0.15);border-radius:10px;display:flex;align-items:center;justify-content:center;margin-bottom:0.7rem;color:var(--gold)}
    .notif-icon svg{width:24px;height:24px}
    .notif-title{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--paper);margin-bottom:0.25rem}
    .notif-message{color:var(--paper);opacity:0.6;font-size:0.85rem;margin-bottom:0.8rem}
    .notif-emotional{background:rgba(0,0,0,0.3);border-left:2px solid var(--gold);padding:0.7rem 0.9rem;border-radius:0 10px 10px 0;color:var(--paper);opacity:0.85;font-style:italic;font-size:0.8rem;line-height:1.5;margin-bottom:0.8rem}
    .notif-button{width:100%;padding:0.7rem;background:linear-gradient(135deg,var(--gold),var(--gold-dim));color:var(--void-deep);border:none;border-radius:10px;font-family:'Cormorant Garamond',serif;font-size:0.9rem;font-weight:600;cursor:pointer;letter-spacing:0.1em}
    
    /* Support Chat Demo - Compact */
    .support-demo{display:flex;justify-content:center}
    .support-chat-demo{width:280px;background:var(--void-light);border:1px solid rgba(201,169,89,0.25);border-radius:18px;overflow:hidden;box-shadow:0 25px 50px rgba(0,0,0,0.4)}
    .support-header{display:flex;align-items:center;gap:0.7rem;padding:0.9rem;border-bottom:1px solid rgba(201,169,89,0.1);background:rgba(0,0,0,0.2)}
    .support-avatar{width:36px;height:36px;background:linear-gradient(135deg,var(--gold),var(--gold-dim));border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--void-deep)}
    .support-avatar svg{width:20px;height:20px}
    .support-info{}
    .support-name{color:var(--paper);font-weight:500;font-size:0.9rem}
    .support-status{color:#4ade80;font-size:0.7rem;display:flex;align-items:center;gap:0.25rem}
    .status-dot{width:5px;height:5px;background:#4ade80;border-radius:50%;animation:pulse 1.5s ease-in-out infinite}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
    .support-messages{padding:0.9rem;height:150px;display:flex;flex-direction:column;gap:0.6rem;overflow:hidden}
    .support-msg{max-width:85%;padding:0.5rem 0.8rem;border-radius:12px;font-size:0.75rem;line-height:1.4;opacity:0;animation:msg-appear 0.5s ease forwards}
    .support-msg.bot{background:rgba(201,169,89,0.1);color:var(--paper);border-bottom-left-radius:4px;align-self:flex-start}
    .support-msg.user{background:var(--gold);color:var(--void-deep);border-bottom-right-radius:4px;align-self:flex-end}
    .support-msg:nth-child(1){animation-delay:0.3s}
    .support-msg:nth-child(2){animation-delay:1s}
    .support-msg:nth-child(3){animation-delay:1.8s}
    @keyframes msg-appear{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    .support-input{display:flex;align-items:center;padding:0.7rem;border-top:1px solid rgba(201,169,89,0.1);gap:0.4rem}
    .support-input span{flex:1;color:var(--paper);opacity:0.3;font-size:0.75rem}
    .send-btn{width:28px;height:28px;background:var(--gold);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--void-deep)}
    .send-btn svg{width:12px;height:12px}
    
    /* CTA Scene */
    .cta-scene{display:flex;flex-direction:column;align-items:center;gap:1.2rem}
    .final-logo{display:flex;flex-direction:column;align-items:center;gap:0.6rem;opacity:0;animation:final-logo-appear 1.5s ease forwards}
    @keyframes final-logo-appear{0%{opacity:0;transform:translateY(15px)}100%{opacity:1;transform:translateY(0)}}
    .final-infinity{width:70px;height:35px;color:var(--gold);filter:drop-shadow(0 0 20px rgba(201,169,89,0.5))}
    .final-infinity svg{width:100%;height:100%}
    .final-wordmark{font-family:'Playfair Display',serif;font-size:1.4rem;color:var(--paper);letter-spacing:0.5em;text-transform:uppercase}
    .cta-headline{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,4.5vw,3rem);color:var(--paper);text-align:center;opacity:0;animation:cta-text-appear 1s ease forwards 0.5s}
    .cta-subheadline{font-size:1rem;color:var(--paper);opacity:0;animation:cta-text-appear 1s ease forwards 0.8s}
    @keyframes cta-text-appear{to{opacity:0.6}}
    .cta-button{padding:1rem 2.5rem;font-family:'Cormorant Garamond',serif;font-size:1rem;background:linear-gradient(135deg,var(--gold) 0%,var(--gold-dim) 100%);color:var(--void-deep);border:none;border-radius:50px;cursor:pointer;font-weight:600;letter-spacing:0.15em;text-transform:uppercase;box-shadow:0 10px 40px rgba(201,169,89,0.4);opacity:0;animation:cta-button-appear 1s ease forwards 1.2s;transition:transform 0.3s ease,box-shadow 0.3s ease}
    .cta-button:hover{transform:translateY(-3px);box-shadow:0 15px 50px rgba(201,169,89,0.5)}
    @keyframes cta-button-appear{0%{opacity:0;transform:translateY(15px)}100%{opacity:1;transform:translateY(0)}}
    .domain-text{font-family:'Playfair Display',serif;font-size:1.5rem;color:var(--gold);letter-spacing:0.25em;opacity:0;animation:domain-appear 1s ease forwards 1.5s;text-shadow:0 0 30px rgba(201,169,89,0.5)}
    @keyframes domain-appear{to{opacity:1}}
    
    /* Progress Bar */
    #progress-bar{position:fixed;bottom:0;left:0;height:3px;background:linear-gradient(90deg,var(--gold) 0%,var(--gold-bright) 100%);width:0%;z-index:200;box-shadow:0 0 10px rgba(201,169,89,0.5)}
    
    /* Controls */
    .control-btn{position:fixed;bottom:30px;background:rgba(18,21,28,0.8);backdrop-filter:blur(10px);border:1px solid rgba(201,169,89,0.3);border-radius:50px;color:var(--paper);cursor:pointer;display:flex;align-items:center;gap:0.4rem;padding:0.6rem 1.2rem;font-family:'Cormorant Garamond',serif;font-size:0.85rem;transition:all 0.3s ease;z-index:150;opacity:0;visibility:hidden}
    .control-btn.visible{opacity:1;visibility:visible}
    .control-btn:hover{background:rgba(201,169,89,0.2);border-color:var(--gold)}
    .control-btn svg{width:16px;height:16px}
    #skip-button{right:120px}
    #mute-button{right:30px;padding:0.6rem}
    
    .fade-overlay{position:fixed;inset:0;background:var(--void-deep);z-index:50;opacity:0;pointer-events:none;transition:opacity 0.4s ease}
    .fade-overlay.active{opacity:1}
  </style>
</head>
<body>
  <!-- SVG Icon Definitions -->
  <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <!-- Infinity -->
      <symbol id="icon-infinity" viewBox="0 0 24 24">
        <path d="M18.178 8c5.096 0 5.096 8 0 8-5.095 0-7.133-8-12.739-8-4.873 0-4.873 8 0 8 5.606 0 7.644-8 12.74-8z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </symbol>
      
      <!-- Play -->
      <symbol id="icon-play" viewBox="0 0 24 24">
        <polygon points="5 3 19 12 5 21 5 3" fill="currentColor"/>
      </symbol>
      
      <!-- Memories/Photos -->
      <symbol id="icon-memories" viewBox="0 0 24 24">
        <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
        <path d="m21 15-5-5L5 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Microphone -->
      <symbol id="icon-microphone" viewBox="0 0 24 24">
        <rect x="9" y="2" width="6" height="11" rx="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M5 10v1a7 7 0 0014 0v-1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
        <path d="M12 18v4m-3 0h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Envelope -->
      <symbol id="icon-envelope" viewBox="0 0 24 24">
        <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Shield -->
      <symbol id="icon-shield" viewBox="0 0 24 24">
        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="m9 12 2 2 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Clock -->
      <symbol id="icon-clock" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Heart -->
      <symbol id="icon-heart" viewBox="0 0 24 24">
        <path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Star -->
      <symbol id="icon-star" viewBox="0 0 24 24">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Sparkle/AI -->
      <symbol id="icon-sparkle" viewBox="0 0 24 24">
        <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
        <circle cx="12" cy="12" r="2" fill="currentColor"/>
      </symbol>
      
      <!-- Bell -->
      <symbol id="icon-bell" viewBox="0 0 24 24">
        <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M13.73 21a2 2 0 01-3.46 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Family -->
      <symbol id="icon-family" viewBox="0 0 24 24">
        <circle cx="12" cy="5" r="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <circle cx="5" cy="19" r="2.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <circle cx="19" cy="19" r="2.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M12 8v4m0 0l-5 4.5M12 12l5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Gift -->
      <symbol id="icon-gift" viewBox="0 0 24 24">
        <rect x="3" y="8" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M12 8V22M3 12h18" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M8 8c0-2.5 1.5-6 4-6s4 3.5 4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Voice Wave -->
      <symbol id="icon-voice-wave" viewBox="0 0 24 24">
        <path d="M2 12h2M6 8v8M10 5v14M14 8v8M18 10v4M22 12h-2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Send -->
      <symbol id="icon-send" viewBox="0 0 24 24">
        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Arrow Right -->
      <symbol id="icon-arrow-right" viewBox="0 0 24 24">
        <path d="M5 12h14m0 0l-7-7m7 7l-7 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </symbol>
      
      <!-- Volume -->
      <symbol id="icon-volume" viewBox="0 0 24 24">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Mute -->
      <symbol id="icon-mute" viewBox="0 0 24 24">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <line x1="23" y1="9" x2="17" y2="15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        <line x1="17" y1="9" x2="23" y2="15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
      </symbol>
      
      <!-- Sun/Joy -->
      <symbol id="icon-sun" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- Quill/Write -->
      <symbol id="icon-quill" viewBox="0 0 24 24">
        <path d="M20 2c-2 0-6 2-9 6-2 2.5-3 5-3.5 7L6 17l1.5 1.5c2-.5 4.5-1.5 7-3.5 4-3 6-7 6-9 0-1.5-.5-3-1.5-4z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M2 22l4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
      
      <!-- User -->
      <symbol id="icon-user" viewBox="0 0 24 24">
        <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <path d="M20 21a8 8 0 10-16 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
      </symbol>
    </defs>
  </svg>

  <!-- Play Overlay -->
  <div id="play-overlay" onclick="startVideo()">
    <div class="pre-logo">
      <svg><use href="#icon-infinity"/></svg>
    </div>
    <h1>Heirloom</h1>
    <p>A cinematic experience</p>
    <div class="play-button">
      <div class="play-icon">
        <svg><use href="#icon-play"/></svg>
      </div>
    </div>
    <span class="play-hint">Click to play with sound</span>
  </div>

  <!-- Cinema Bars -->
  <div class="cinema-bar top"></div>
  <div class="cinema-bar bottom"></div>
  <div class="fade-overlay" id="fade-overlay"></div>

  <div id="video-container">
    <!-- Background -->
    <div class="sanctuary-bg" id="sanctuary-bg">
      <div class="bg-gradient"></div>
      <div class="bg-vignette"></div>
    </div>

    <!-- Particles -->
    <div class="constellation-particles" id="particles"></div>

    <!-- Scene 1: Opening Quote -->
    <div class="scene" id="scene-1">
      <p class="quote-text">
        We don't inherit memories from our ancestors.<br>
        We <span class="highlight">borrow them</span> from our children.
      </p>
    </div>

    <!-- Scene 2: Logo Reveal -->
    <div class="scene" id="scene-2">
      <div class="infinity-container">
        <div class="infinity-glow"></div>
        <div class="infinity-symbol">
          <svg><use href="#icon-infinity"/></svg>
        </div>
      </div>
      <h1 class="headline medium">HEIRLOOM</h1>
      <p class="subheadline">Your legacy, preserved forever</p>
    </div>

    <!-- Scene 3: Photo Memories -->
    <div class="scene" id="scene-3">
      <div class="photo-stack">
        <div class="photo"><img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&h=500&fit=crop" alt="Family gathering"></div>
        <div class="photo"><img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?w=400&h=500&fit=crop" alt="Grandparent with child"></div>
        <div class="photo"><img src="https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=400&h=500&fit=crop" alt="Family portrait"></div>
      </div>
      <h2 class="headline small">Every Photo <em>Tells a Story</em></h2>
    </div>

    <!-- Scene 4: Voice Recording -->
    <div class="scene" id="scene-4">
      <div class="waveform-container">
        <div class="voice-image">
          <img src="https://images.unsplash.com/photo-1581579438747-1dc8d17bbce4?w=300&h=300&fit=crop" alt="Grandmother">
        </div>
        <div class="recording-indicator">
          <div class="recording-dot"></div>
          <span style="color:var(--paper);opacity:0.6;font-size:0.85rem">Recording grandmother's stories...</span>
        </div>
        <div class="waveform" id="waveform"></div>
      </div>
      <h2 class="headline small">Capture <em>Their Voice</em></h2>
    </div>

    <!-- Scene 5: Time-Locked Letters -->
    <div class="scene" id="scene-5">
      <div class="envelope-scene">
        <div class="envelope-body">
          <div class="envelope-flap"></div>
          <div class="wax-seal">
            <div class="seal-icon">
              <svg><use href="#icon-infinity"/></svg>
            </div>
          </div>
        </div>
      </div>
      <h2 class="headline small">Letters That <em>Wait</em></h2>
      <p class="subheadline">Delivered when the moment is right</p>
    </div>

    <!-- Scene 6: Features Grid -->
    <div class="scene" id="scene-6">
      <h2 class="headline small" style="margin-bottom:0.5rem">Everything You Need</h2>
      <div class="features-grid">
        <div class="feature-card" style="animation-delay:0.1s">
          <div class="feature-icon"><svg><use href="#icon-memories"/></svg></div>
          <h3 class="feature-title">Photo Vaults</h3>
          <p class="feature-desc">Organize memories by moment, person, or era</p>
        </div>
        <div class="feature-card" style="animation-delay:0.2s">
          <div class="feature-icon"><svg><use href="#icon-microphone"/></svg></div>
          <h3 class="feature-title">Voice Capture</h3>
          <p class="feature-desc">Record stories in their own words</p>
        </div>
        <div class="feature-card" style="animation-delay:0.3s">
          <div class="feature-icon"><svg><use href="#icon-envelope"/></svg></div>
          <h3 class="feature-title">Time-Locked Letters</h3>
          <p class="feature-desc">Messages delivered at the perfect moment</p>
        </div>
        <div class="feature-card" style="animation-delay:0.4s">
          <div class="feature-icon"><svg><use href="#icon-family"/></svg></div>
          <h3 class="feature-title">Family Tree</h3>
          <p class="feature-desc">Connect generations visually</p>
        </div>
        <div class="feature-card" style="animation-delay:0.5s">
          <div class="feature-icon"><svg><use href="#icon-shield"/></svg></div>
          <h3 class="feature-title">Bank-Level Security</h3>
          <p class="feature-desc">End-to-end encrypted, always</p>
        </div>
        <div class="feature-card" style="animation-delay:0.6s">
          <div class="feature-icon"><svg><use href="#icon-clock"/></svg></div>
          <h3 class="feature-title">100-Year Promise</h3>
          <p class="feature-desc">Your legacy outlasts platforms</p>
        </div>
      </div>
    </div>

    <!-- Scene 7: AI Assistant -->
    <div class="scene" id="scene-7">
      <div class="ai-container">
        <div class="ai-chat">
          <div class="ai-header">
            <div class="ai-avatar">
              <svg><use href="#icon-sparkle"/></svg>
            </div>
            <div>
              <div class="ai-name">Memory Guide</div>
              <div class="ai-status">Always here to help</div>
            </div>
          </div>
          <div class="ai-messages">
            <div class="ai-message assistant">I noticed you haven't recorded with your grandmother in a while. Would you like some conversation starters?</div>
            <div class="ai-message user">Yes, that would be helpful!</div>
            <div class="ai-message assistant">Ask her about her wedding day. What was her favorite song?</div>
          </div>
          <div class="ai-input">
            <input type="text" placeholder="Ask me anything..." disabled>
            <button><svg><use href="#icon-send"/></svg></button>
          </div>
        </div>
        <div class="ai-features">
          <div class="ai-feature-item">
            <div class="ai-feature-icon"><svg><use href="#icon-quill"/></svg></div>
            <div class="ai-feature-text">
              <h4>Story Prompts</h4>
              <p>Thoughtful questions to spark conversations</p>
            </div>
          </div>
          <div class="ai-feature-item">
            <div class="ai-feature-icon"><svg><use href="#icon-bell"/></svg></div>
            <div class="ai-feature-text">
              <h4>Gentle Reminders</h4>
              <p>Never miss an opportunity to capture a memory</p>
            </div>
          </div>
          <div class="ai-feature-item">
            <div class="ai-feature-icon"><svg><use href="#icon-voice-wave"/></svg></div>
            <div class="ai-feature-text">
              <h4>Auto-Transcription</h4>
              <p>Voice recordings become searchable text</p>
            </div>
          </div>
          <div class="ai-feature-item">
            <div class="ai-feature-icon"><svg><use href="#icon-heart"/></svg></div>
            <div class="ai-feature-text">
              <h4>Emotional Context</h4>
              <p>AI that understands the weight of memories</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scene 8: Heirloom Wrapped -->
    <div class="scene" id="scene-8">
      <div class="wrapped-container">
        <div class="wrapped-phone">
          <div class="wrapped-screen">
            <div class="wrapped-content">
              <div class="wrapped-year">2024</div>
              <div class="wrapped-title">Your Year in Memories</div>
              <div class="wrapped-stat">
                <div class="wrapped-stat-number">47</div>
                <div class="wrapped-stat-label">Stories Preserved</div>
              </div>
              <div class="wrapped-stat">
                <div class="wrapped-stat-number">12h</div>
                <div class="wrapped-stat-label">Voice Recordings</div>
              </div>
              <div class="wrapped-emotions">
                <span class="emotion-pill"><svg><use href="#icon-sun"/></svg> Joy</span>
                <span class="emotion-pill"><svg><use href="#icon-heart"/></svg> Love</span>
                <span class="emotion-pill"><svg><use href="#icon-star"/></svg> Wonder</span>
              </div>
              <div class="wrapped-dots">
                <span class="wrapped-dot active"></span>
                <span class="wrapped-dot"></span>
                <span class="wrapped-dot"></span>
                <span class="wrapped-dot"></span>
              </div>
            </div>
          </div>
        </div>
        <h2 class="headline small">Heirloom <em>Wrapped</em></h2>
        <p class="subheadline">Your annual journey through preserved moments</p>
      </div>
    </div>

    <!-- Scene 9: Notification Demo -->
    <div class="scene" id="scene-9">
      <div class="notification-demo">
        <div class="notification-card-demo">
          <div class="notif-icon"><svg><use href="#icon-gift"/></svg></div>
          <div class="notif-title">A Letter Has Arrived</div>
          <div class="notif-message">From Grandma Rose, written 3 years ago</div>
          <div class="notif-emotional">"My dearest grandchild, if you're reading this on your graduation day, know that I've been proud of you since the moment you were born..."</div>
          <button class="notif-button">Open Letter</button>
        </div>
      </div>
      <h2 class="headline small">Messages From <em>Beyond Time</em></h2>
    </div>

    <!-- Scene 10: Support Chat -->
    <div class="scene" id="scene-10">
      <div class="support-demo">
        <div class="support-chat-demo">
          <div class="support-header">
            <div class="support-avatar">
              <svg><use href="#icon-user"/></svg>
            </div>
            <div class="support-info">
              <div class="support-name">Heirloom Support</div>
              <div class="support-status"><span class="status-dot"></span> Always here for you</div>
            </div>
          </div>
          <div class="support-messages">
            <div class="support-msg bot">Hi Sarah. I'm so sorry to hear about your grandmother. Her memories are safe with us.</div>
            <div class="support-msg user">Thank you. Can I share access with my family?</div>
            <div class="support-msg bot">Of course. I'll help you set up family access right now.</div>
          </div>
          <div class="support-input">
            <span>Type a message...</span>
            <div class="send-btn"><svg><use href="#icon-send"/></svg></div>
          </div>
        </div>
      </div>
      <h2 class="headline small">Human Support, <em>Always</em></h2>
      <p class="subheadline">Because some moments need more than technology</p>
    </div>

    <!-- Scene 11: CTA -->
    <div class="scene" id="scene-11">
      <div class="cta-scene">
        <div class="final-logo">
          <div class="final-infinity"><svg><use href="#icon-infinity"/></svg></div>
          <div class="final-wordmark">Heirloom</div>
        </div>
        <h2 class="cta-headline">Start Your Legacy Today</h2>
        <p class="cta-subheadline">Join thousands preserving what matters most</p>
        <button class="cta-button">Begin Free Trial</button>
        <span class="domain-text">heirloom.blue</span>
      </div>
    </div>
  </div>

  <!-- Progress Bar -->
  <div id="progress-bar"></div>
  
  <!-- Controls -->
  <button id="skip-button" class="control-btn">
    <span>Skip</span>
    <svg><use href="#icon-arrow-right"/></svg>
  </button>
  <button id="mute-button" class="control-btn">
    <svg id="volume-icon"><use href="#icon-volume"/></svg>
    <svg id="mute-icon" style="display:none"><use href="#icon-mute"/></svg>
  </button>

  <!-- Background Music -->
  <audio id="bg-music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Video Timeline Configuration
    const scenes = [
      { id: 'scene-1', duration: 5000 },
      { id: 'scene-2', duration: 5000 },
      { id: 'scene-3', duration: 5000 },
      { id: 'scene-4', duration: 6000 },
      { id: 'scene-5', duration: 5000 },
      { id: 'scene-6', duration: 6000 },
      { id: 'scene-7', duration: 7000 },
      { id: 'scene-8', duration: 5000 },
      { id: 'scene-9', duration: 5000 },
      { id: 'scene-10', duration: 5000 },
      { id: 'scene-11', duration: 8000 }
    ];

    let currentScene = 0;
    let isPlaying = false;
    let isMuted = false;
    let sceneTimeout;
    let startTime;
    let totalDuration = scenes.reduce((acc, s) => acc + s.duration, 0);
    const bgMusic = document.getElementById('bg-music');

    // Create particles
    function createParticles() {
      const container = document.getElementById('particles');
      for (let i = 0; i < 80; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle twinkle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.width = (Math.random() * 2 + 1) + 'px';
        particle.style.height = particle.style.width;
        particle.style.setProperty('--duration', (Math.random() * 4 + 3) + 's');
        particle.style.setProperty('--delay', (Math.random() * 5) + 's');
        particle.style.setProperty('--max-opacity', (Math.random() * 0.5 + 0.3));
        container.appendChild(particle);
      }
    }

    // Create waveform bars
    function createWaveform() {
      const waveform = document.getElementById('waveform');
      for (let i = 0; i < 35; i++) {
        const bar = document.createElement('div');
        bar.className = 'wave-bar';
        bar.style.setProperty('--duration', (Math.random() * 0.5 + 0.3) + 's');
        bar.style.setProperty('--delay', (i * 0.02) + 's');
        bar.style.setProperty('--height', (Math.random() * 60 + 20) + 'px');
        waveform.appendChild(bar);
      }
    }

    // Show scene
    function showScene(index) {
      document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
      const scene = document.getElementById(scenes[index].id);
      if (scene) {
        scene.classList.add('active');
        
        // Animate feature cards
        if (scenes[index].id === 'scene-6') {
          setTimeout(() => {
            document.querySelectorAll('.feature-card').forEach((card, i) => {
              setTimeout(() => card.classList.add('animate'), i * 100);
            });
          }, 300);
        }
      }
    }

    // Update progress
    function updateProgress() {
      if (!isPlaying) return;
      const elapsed = Date.now() - startTime;
      const progress = Math.min((elapsed / totalDuration) * 100, 100);
      document.getElementById('progress-bar').style.width = progress + '%';
      if (isPlaying) requestAnimationFrame(updateProgress);
    }

    // Next scene
    function nextScene() {
      const fadeOverlay = document.getElementById('fade-overlay');
      fadeOverlay.classList.add('active');
      
      setTimeout(() => {
        currentScene++;
        if (currentScene < scenes.length) {
          showScene(currentScene);
          fadeOverlay.classList.remove('active');
          sceneTimeout = setTimeout(nextScene, scenes[currentScene].duration);
        } else {
          isPlaying = false;
          fadeOverlay.classList.remove('active');
        }
      }, 400);
    }

    // Start video
    function startVideo() {
      document.getElementById('play-overlay').classList.add('hidden');
      document.querySelectorAll('.cinema-bar').forEach(bar => bar.classList.add('active'));
      document.getElementById('sanctuary-bg').classList.add('active');
      document.getElementById('skip-button').classList.add('visible');
      document.getElementById('mute-button').classList.add('visible');
      
      // Play music
      bgMusic.volume = 0.4;
      bgMusic.play().catch(e => console.log('Audio autoplay blocked:', e));
      
      isPlaying = true;
      startTime = Date.now();
      currentScene = 0;
      
      showScene(0);
      updateProgress();
      sceneTimeout = setTimeout(nextScene, scenes[0].duration);
    }

    // Skip to end
    document.getElementById('skip-button').addEventListener('click', () => {
      clearTimeout(sceneTimeout);
      currentScene = scenes.length - 1;
      showScene(currentScene);
      document.getElementById('progress-bar').style.width = '100%';
    });

    // Mute toggle
    document.getElementById('mute-button').addEventListener('click', () => {
      isMuted = !isMuted;
      bgMusic.muted = isMuted;
      document.getElementById('volume-icon').style.display = isMuted ? 'none' : 'block';
      document.getElementById('mute-icon').style.display = isMuted ? 'block' : 'none';
    });

    // Initialize
    createParticles();
    createWaveform();
  </script>
</body>
</html>
